function FrontBase(){}function Auth(){var t=this;t.maskWrapper=$(".mask-wrapper"),t.scrollWrapper=$(".scrool-wrapper"),t.smsCaptcha=$(".sms-captcha-btn")}FrontBase.prototype.run=function(){this.listenAuthBoxHover()},FrontBase.prototype.listenAuthBoxHover=function(){var t=$(".auth-box"),n=$(".user-more-box");t.hover(function(){n.show()},function(){n.hide()})},$(function(){(new FrontBase).run()}),Auth.prototype.run=function(){var t=this;t.listenShowHideEvent(),t.listenSwitchEvent(),t.listenSigninEvent(),t.listenImgCaptchaEvent(),t.listenSmsCaptchaEvent()},Auth.prototype.showEvent=function(){this.maskWrapper.show()},Auth.prototype.hideEvent=function(){this.maskWrapper.hide()},Auth.prototype.listenShowHideEvent=function(){var t=this,n=$(".signin-btn"),e=$(".signup-btn"),s=$(".close-btn");n.click(function(){t.showEvent(),t.scrollWrapper.css({left:0})}),e.click(function(){t.showEvent(),t.scrollWrapper.css({left:-400})}),s.click(function(){t.hideEvent()})},Auth.prototype.listenSwitchEvent=function(){var n=this;$(".switch").click(function(){var t=n.scrollWrapper.css("left");(t=parseInt(t))<0?n.scrollWrapper.animate({left:"0"}):n.scrollWrapper.animate({left:"-400px"})})},Auth.prototype.listenSigninEvent=function(){var o=this,t=$(".signin-group"),s=t.find("input[name='telephone']"),a=t.find("input[name='password']"),c=t.find("input[name='remember']");t.find(".submit-btn").click(function(){var t=s.val(),n=a.val(),e=c.prop("checked");xfzajax.post({url:"/account/login/",data:{telephone:t,password:n,remember:e?1:0},success:function(t){if(200===t.code)o.hideEvent(),window.location.reload();else{var n=t.message;if(console.log(n),"string"==typeof n||n.constructor==String)window.messageBox.show(n);else for(var e in n){var s=n[e].message;window.messageBox.show(s)}}},fail:function(t){console.log(t)}})})},Auth.prototype.listenImgCaptchaEvent=function(){var t=$(".img-captcha");t.click(function(){t.attr("src","/account/img_captcha?random="+Math.random())})},Auth.prototype.smsSuccessEvent=function(){var t=this;messageBox.showSuccess("短信验证码发送成功！"),t.smsCaptcha.addClass("disabled");var n=10;t.smsCaptcha.unbind("click");var e=setInterval(function(){t.smsCaptcha.text(n+"s"),(n-=1)<=0&&(clearInterval(e),t.smsCaptcha.removeClass("disabled"),t.smsCaptcha.text("发送验证码"),t.listenSmsCaptchaEvent())},1e3)},Auth.prototype.listenSmsCaptchaEvent=function(){var n=this,t=$(".sms-captcha-btn"),e=$(".signup-group input[name='telephone']");t.click(function(){var t=e.val();t?xfzajax.get({url:"/account/sms_captcha/",data:{telephone:t},success:function(t){200==t.code&&(console.log(t),n.smsSuccessEvent())},fail:function(){console.log(error)}}):messageBox.showInfo("请输入手机号码！")})},$(function(){(new Auth).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZyb250X2Jhc2UuanMiXSwibmFtZXMiOlsiRnJvbnRCYXNlIiwiQXV0aCIsInNlbGYiLCJ0aGlzIiwibWFza1dyYXBwZXIiLCIkIiwic2Nyb2xsV3JhcHBlciIsInNtc0NhcHRjaGEiLCJwcm90b3R5cGUiLCJydW4iLCJsaXN0ZW5BdXRoQm94SG92ZXIiLCJhdXRoQm94IiwidXNlck1vcmVCb3giLCJob3ZlciIsInNob3ciLCJoaWRlIiwibGlzdGVuU2hvd0hpZGVFdmVudCIsImxpc3RlblN3aXRjaEV2ZW50IiwibGlzdGVuU2lnbmluRXZlbnQiLCJsaXN0ZW5JbWdDYXB0Y2hhRXZlbnQiLCJsaXN0ZW5TbXNDYXB0Y2hhRXZlbnQiLCJzaG93RXZlbnQiLCJoaWRlRXZlbnQiLCJzaWduaW5CdG4iLCJzaWdudXBCdG4iLCJjbG9zZUJ0biIsImNsaWNrIiwiY3NzIiwibGVmdCIsImN1cnJlbnRMZWZ0IiwicGFyc2VJbnQiLCJhbmltYXRlIiwic2lnbmluR3JvdXAiLCJ0ZWxlcGhvbmVJbnB1dCIsImZpbmQiLCJwYXNzd29yZElucHV0IiwicmVtZW1iZXJJbnB1dCIsInRlbGVwaG9uZSIsInZhbCIsInBhc3N3b3JkIiwicmVtZW1iZXIiLCJwcm9wIiwieGZ6YWpheCIsInBvc3QiLCJ1cmwiLCJkYXRhIiwic3VjY2VzcyIsInJlc3VsdCIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwibWVzc2FnZU9iamVjdCIsImNvbnNvbGUiLCJsb2ciLCJjb25zdHJ1Y3RvciIsIlN0cmluZyIsIm1lc3NhZ2VCb3giLCJrZXkiLCJtZXNzYWdlIiwiZmFpbCIsImVycm9yIiwiaW1nQ2FwdGNoYSIsImF0dHIiLCJNYXRoIiwicmFuZG9tIiwic21zU3VjY2Vzc0V2ZW50Iiwic2hvd1N1Y2Nlc3MiLCJhZGRDbGFzcyIsImNvdW50IiwidW5iaW5kIiwidGltZXIiLCJzZXRJbnRlcnZhbCIsInRleHQiLCJjbGVhckludGVydmFsIiwicmVtb3ZlQ2xhc3MiLCJnZXQiLCJzaG93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SyxXQUFXNEQsU0FBUyxZQUN6QixJQUFJQyxFQUFRLEdBQ1psRSxFQUFLSyxXQUFXOEQsT0FBTyxTQUN2QixJQUFJQyxFQUFRQyxZQUFZLFdBQ3BCckUsRUFBS0ssV0FBV2lFLEtBQUtKLEVBQU0sTUFDM0JBLEdBQVMsSUFDRyxJQUNSSyxjQUFjSCxHQUNkcEUsRUFBS0ssV0FBV21FLFlBQVksWUFDNUJ4RSxFQUFLSyxXQUFXaUUsS0FBSyxTQUNyQnRFLEVBQUtrQiwwQkFFWCxNQUdObkIsS0FBS08sVUFBVVksc0JBQXdCLFdBQ25DLElBQUlsQixFQUFPQyxLQUNQSSxFQUFhRixFQUFFLG9CQUNmNEIsRUFBaUI1QixFQUFFLHlDQUN2QkUsRUFBV21CLE1BQU0sV0FDYixJQUFJVyxFQUFZSixFQUFlSyxNQUMzQkQsRUFJQUssUUFBUWlDLElBQUksQ0FDWi9CLElBQU0sd0JBQ05DLEtBQU8sQ0FDSFIsVUFBWUEsR0FFaEJTLFFBQVUsU0FBVUMsR0FDRyxLQUFoQkEsRUFBYSxPQUNaSyxRQUFRQyxJQUFJTixHQUNaN0MsRUFBSytELG9CQUdiTixLQUFPLFdBQ0hQLFFBQVFDLElBQUlPLFVBZmhCSixXQUFXb0IsU0FBUyxlQTBCaEN2RSxFQUFFLFlBQ2EsSUFBSUosTUFDVlEiLCJmaWxlIjoiZnJvbnRfYmFzZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL+eUqOadpeWkhOeQhuWvvOiIquadoVxuZnVuY3Rpb24gRnJvbnRCYXNlKCkge1xuICAgIFxufVxuXG5Gcm9udEJhc2UucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNlbGYubGlzdGVuQXV0aEJveEhvdmVyKCk7XG59XG5cblxuRnJvbnRCYXNlLnByb3RvdHlwZS5saXN0ZW5BdXRoQm94SG92ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGF1dGhCb3ggPSAkKFwiLmF1dGgtYm94XCIpO1xuICAgIHZhciB1c2VyTW9yZUJveCA9ICQoXCIudXNlci1tb3JlLWJveFwiKTtcbiAgICBhdXRoQm94LmhvdmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdXNlck1vcmVCb3guc2hvdygpO1xuICAgIH0sZnVuY3Rpb24gKCkge1xuICAgICAgICB1c2VyTW9yZUJveC5oaWRlKCk7XG4gICAgfSlcblxufTtcblxuLy/mlbTkuKrnvZHpobXpg73liqDovb3lh7rmnaXmiY3miafooYzor6Xlh73mlbBcbiQoZnVuY3Rpb24gKCkge1xuICAgIHZhciBmcm9udEJhc2UgPSBuZXcgRnJvbnRCYXNlKCk7XG4gICAgZnJvbnRCYXNlLnJ1bigpO1xufSk7XG5cblxuLy/nlKjmnaXlpITnkIbnmbvlvZXlkozms6jlhoxcblxuXG5cblxuIC8v54K55Ye755m75b2V5oyJ6ZKu77yM5by55Ye65qih5Z2X5a+56K+d5qGGXG4vLyAkKGZ1bmN0aW9uICgpIHtcbi8vICAgICAkKFwiI2J0blwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4vLyAgICAgICAgICQoXCIubWFzay13cmFwcGVyXCIpLnNob3coKTtcbi8vICAgICB9KVxuLy8gICAgICQoXCIuY2xvc2UtYnRuXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbi8vICAgICAgICAgJChcIi5tYXNrLXdyYXBwZXJcIikuaGlkZSgpO1xuLy8gICAgIH0pXG4vLyB9KVxuXG4vL+aehOmAoOWHveaVsFxuZnVuY3Rpb24gQXV0aCgpIHtcbiAgICAvL+WcqOi/meS4quexu+S4reW+iOWkmuWcsOaWuemDveS8mueUqOWIsO+8jOaJgOS7peWumuS5ieaIkOexu+eahOWxnuaAp1xuICAgIHZhciBzZWxmID0gdGhpczsvL+WQjuacn+S4jeS8muS6p+eUn+WGsueqge+8jHRoaXPlnKjkuI3lkIznmoTlh73mlbDkuK3ku6PooajkuI3lkIznmoTlr7nosaFcbiAgICBzZWxmLm1hc2tXcmFwcGVyID0gJCgnLm1hc2std3JhcHBlcicpXG4gICAgc2VsZi5zY3JvbGxXcmFwcGVyID0gJChcIi5zY3Jvb2wtd3JhcHBlclwiKTtcbiAgICBzZWxmLnNtc0NhcHRjaGEgPSAkKCcuc21zLWNhcHRjaGEtYnRuJyk7XG5cblxuXG59XG4vL+aehOmAoOWHveaVsOe7keWumuaWueazlVxuLy9ydW7mlrnms5XmmK/nsbvmiJblr7nosaHnmoTlhaXlj6PvvIzljIXmi6znm5HlkKzkuovku7ZhamF45LqL5Lu2XG5BdXRoLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNlbGYubGlzdGVuU2hvd0hpZGVFdmVudCgpOy8v5ZyocnVu5pa55rOV5Lit5omN5Lya5omn6KGMXG4gICAgc2VsZi5saXN0ZW5Td2l0Y2hFdmVudCgpO1xuICAgIHNlbGYubGlzdGVuU2lnbmluRXZlbnQoKTtcbiAgICBzZWxmLmxpc3RlbkltZ0NhcHRjaGFFdmVudCgpO1xuICAgIHNlbGYubGlzdGVuU21zQ2FwdGNoYUV2ZW50KCk7XG59XG4vL+WxleekuuS6i+S7tlxuQXV0aC5wcm90b3R5cGUuc2hvd0V2ZW50ID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5tYXNrV3JhcHBlci5zaG93KCk7XG5cbn07XG4vL+makOiXj+S6i+S7tlxuQXV0aC5wcm90b3R5cGUuaGlkZUV2ZW50ID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5tYXNrV3JhcHBlci5oaWRlKCk7XG59O1xuLy/nm5HlkKzlsZXnpLrpmpDol4/kuovku7ZcbkF1dGgucHJvdG90eXBlLmxpc3RlblNob3dIaWRlRXZlbnQgPVxuICAgIGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHNpZ25pbkJ0biA9ICQoJy5zaWduaW4tYnRuJyk7XG4gICAgICAgIHZhciBzaWdudXBCdG4gPSAkKCcuc2lnbnVwLWJ0bicpO1xuICAgICAgICB2YXIgY2xvc2VCdG4gPSAkKCcuY2xvc2UtYnRuJyk7XG4gICAgICAgIHNpZ25pbkJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLnNob3dFdmVudCgpO1xuICAgICAgICAgICAgc2VsZi5zY3JvbGxXcmFwcGVyLmNzcyh7XCJsZWZ0XCI6MH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBzaWdudXBCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2VsZi5zaG93RXZlbnQoKTtcbiAgICAgICAgICAgIHNlbGYuc2Nyb2xsV3JhcHBlci5jc3Moe1wibGVmdFwiOi00MDB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2xvc2VCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2VsZi5oaWRlRXZlbnQoKTtcbiAgICAgICAgfSlcbiAgICB9O1xuLy/nm5HlkKzliIfmjaJcbkF1dGgucHJvdG90eXBlLmxpc3RlblN3aXRjaEV2ZW50ID1cbiAgICBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBzd2l0Y2hlciA9ICQoJy5zd2l0Y2gnKVxuICAgICAgICBzd2l0Y2hlci5jbGljayhmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdmFyIGN1cnJlbnRMZWZ0ID0gc2VsZi5zY3JvbGxXcmFwcGVyLmNzcyhcImxlZnRcIik7XG4gICAgICAgIGN1cnJlbnRMZWZ0ID0gcGFyc2VJbnQoY3VycmVudExlZnQpOy8v6Kej5p6Q5Li65pW05Z6LXG4gICAgICAgIGlmIChjdXJyZW50TGVmdCA8MCl7XG4gICAgICAgICAgICBzZWxmLnNjcm9sbFdyYXBwZXIuYW5pbWF0ZSh7XCJsZWZ0XCI6JzAnfSkvL+acieWIh+aNouWKqOeUu1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2VsZi5zY3JvbGxXcmFwcGVyLmFuaW1hdGUoe1wibGVmdFwiOlwiLTQwMHB4XCJ9KTtcbiAgICAgICAgfVxuXG4gICAgfSlcbiAgICB9XG5cbi8v55uR5ZCs55m75b2V5LqL5Lu2XG5BdXRoLnByb3RvdHlwZS5saXN0ZW5TaWduaW5FdmVudCA9XG4gICAgZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgc2lnbmluR3JvdXAgPSAkKCcuc2lnbmluLWdyb3VwJyk7XG4gICAgICAgIHZhciB0ZWxlcGhvbmVJbnB1dCA9IHNpZ25pbkdyb3VwLmZpbmQoXCJpbnB1dFtuYW1lPSd0ZWxlcGhvbmUnXVwiKTtcbiAgICAgICAgdmFyIHBhc3N3b3JkSW5wdXQgPSBzaWduaW5Hcm91cC5maW5kKFwiaW5wdXRbbmFtZT0ncGFzc3dvcmQnXVwiKTtcbiAgICAgICAgdmFyIHJlbWVtYmVySW5wdXQgPSBzaWduaW5Hcm91cC5maW5kKFwiaW5wdXRbbmFtZT0ncmVtZW1iZXInXVwiKTtcblxuICAgICAgICB2YXIgc3VibWl0QnRuID0gc2lnbmluR3JvdXAuZmluZChcIi5zdWJtaXQtYnRuXCIpO1xuICAgICAgICBzdWJtaXRCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRlbGVwaG9uZSA9IHRlbGVwaG9uZUlucHV0LnZhbCgpO1xuICAgICAgICAgICAgdmFyIHBhc3N3b3JkID0gcGFzc3dvcmRJbnB1dC52YWwoKTtcbiAgICAgICAgICAgIHZhciByZW1lbWJlciA9IHJlbWVtYmVySW5wdXQucHJvcChcImNoZWNrZWRcIik7Ly/li77pgInmoYbkuI3og73nlKh2YWzojrflj5bvvIzopoHpgJrov4dwcm9w77yM5bey5Yu+6YCJ77yMcHJvcOaWueazleS8mui/lOWbnnRydWXvvIzlkKbliJnkvJrov5Tlm55mYWxzZVxuICAgICAgICAgICAgeGZ6YWpheC5wb3N0KHtcbiAgICAgICAgICAgICAgICAndXJsJzonL2FjY291bnQvbG9naW4vJyxcbiAgICAgICAgICAgICAgICAnZGF0YSc6e1xuICAgICAgICAgICAgICAgICAgICAndGVsZXBob25lJzp0ZWxlcGhvbmUsXG4gICAgICAgICAgICAgICAgICAgICdwYXNzd29yZCc6cGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgICAgICdyZW1lbWJlcic6cmVtZW1iZXI/MTowLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOmZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmhpZGVFdmVudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOy8v6YeN5paw5Yqg6L296aG16Z2iXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlT2JqZWN0ID0gcmVzdWx0WydtZXNzYWdlJ107XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlT2JqZWN0KVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mIG1lc3NhZ2VPYmplY3Q9PVwic3RyaW5nXCIgfHxtZXNzYWdlT2JqZWN0LmNvbnN0cnVjdG9yPT1TdHJpbmcpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3cobWVzc2FnZU9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGtleSBpbiBtZXNzYWdlT2JqZWN0KXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2VzID0gbWVzc2FnZU9iamVjdFtrZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG1lc3NhZ2VzWydtZXNzYWdlJ107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3cobWVzc2FnZSk7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAnZmFpbCc6ZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSlcblxuXG4gICAgICAgIH0pXG5cbiAgICB9O1xuXG4vL+ebkeWQrFxuQXV0aC5wcm90b3R5cGUubGlzdGVuSW1nQ2FwdGNoYUV2ZW50ID0gZnVuY3Rpb24oKXtcbiAgICAvL+iOt+WPlui/meS4quWFg+e0oFxuICAgIHZhciBpbWdDYXB0Y2hhID0gJCgnLmltZy1jYXB0Y2hhJyk7XG4gICAgaW1nQ2FwdGNoYS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGltZ0NhcHRjaGEuYXR0cihcInNyY1wiLFwiL2FjY291bnQvaW1nX2NhcHRjaGFcIitcIj9yYW5kb209XCIrTWF0aC5yYW5kb20oKSlcbiAgICB9KVxufVxuXG5BdXRoLnByb3RvdHlwZS5zbXNTdWNjZXNzRXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIG1lc3NhZ2VCb3guc2hvd1N1Y2Nlc3MoJ+efreS/oemqjOivgeeggeWPkemAgeaIkOWKn++8gScpO1xuICAgIHNlbGYuc21zQ2FwdGNoYS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICB2YXIgY291bnQgPSAxMDtcbiAgICBzZWxmLnNtc0NhcHRjaGEudW5iaW5kKCdjbGljaycpO1xuICAgIHZhciB0aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5zbXNDYXB0Y2hhLnRleHQoY291bnQrJ3MnKTtcbiAgICAgICAgY291bnQgLT0gMTtcbiAgICAgICAgaWYoY291bnQgPD0gMCl7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTtcbiAgICAgICAgICAgIHNlbGYuc21zQ2FwdGNoYS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIHNlbGYuc21zQ2FwdGNoYS50ZXh0KCflj5HpgIHpqozor4HnoIEnKTtcbiAgICAgICAgICAgIHNlbGYubGlzdGVuU21zQ2FwdGNoYUV2ZW50KCk7XG4gICAgICAgIH1cbiAgICB9LDEwMDApO1xufTtcblxuQXV0aC5wcm90b3R5cGUubGlzdGVuU21zQ2FwdGNoYUV2ZW50ID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHNtc0NhcHRjaGEgPSAkKCcuc21zLWNhcHRjaGEtYnRuJyk7XG4gICAgdmFyIHRlbGVwaG9uZUlucHV0ID0gJChcIi5zaWdudXAtZ3JvdXAgaW5wdXRbbmFtZT0ndGVsZXBob25lJ11cIik7XG4gICAgc21zQ2FwdGNoYS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0ZWxlcGhvbmUgPSB0ZWxlcGhvbmVJbnB1dC52YWwoKTtcbiAgICAgICAgaWYoIXRlbGVwaG9uZSl7XG4gICAgICAgICAgICBtZXNzYWdlQm94LnNob3dJbmZvKCfor7fovpPlhaXmiYvmnLrlj7fnoIHvvIEnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHhmemFqYXguZ2V0KHtcbiAgICAgICAgICAgICd1cmwnOicvYWNjb3VudC9zbXNfY2FwdGNoYS8nLFxuICAgICAgICAgICAgJ2RhdGEnOntcbiAgICAgICAgICAgICAgICAndGVsZXBob25lJzp0ZWxlcGhvbmUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOmZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXT09MjAwKXtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zbXNTdWNjZXNzRXZlbnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ2ZhaWwnOmZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgfVxuICAgIH0pXG59XG5cblxuXG4vL+aVtOS4que9kemhteWFqOmDveWKoOi9veWHuuadpeWQjuaJjeS8muiwg+eUqOivpeWHveaVsFxuJChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGF1dGggPSBuZXcgQXV0aCgpO1xuICAgIGF1dGgucnVuKCk7XG59KSJdfQ==
