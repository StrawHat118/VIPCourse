function Banner(){this.bannerWidth=798,this.bannerGroup=$("#banner-group"),this.index=0,this.leftArrow=$(".left-arrow"),this.rightArrow=$(".right-arrow"),this.bannerUl=$("#banner-ul"),this.liList=this.bannerUl.children("li"),this.bannerCount=this.liList.length,this.pageControl=$(".page-control")}function Index(){this.page=2,template.defaults.imports.timeSince=function(n){var e=new Date(n),t=e.getTime(),r=((new Date).getTime()-t)/1e3;return r<60?"刚刚":60<=r&&r<3600?(minutes=parseInt(r/60),minutes+"分钟前"):3600<=r&&r<86400?(hours=parseInt(r/60/60),hours+"小时前"):86400<=r&&r<2592e3?(days=parseInt(r/60/60/24),days+"天前"):e.getFullYear()+"/"+e.getMonth()+"/"+e.getDay()+"/ "+e.getHours()+":"+e.getMinutes()}}Banner.prototype.initBanner=function(){var n=this;this.bannerUl.css({width:n.bannerWidth*(n.bannerCount+2),left:-n.bannerWidth});var e=n.liList.eq(0).clone(),t=n.liList.eq(n.bannerCount-1).clone();n.bannerUl.append(e),n.bannerUl.prepend(t)},Banner.prototype.initPageControl=function(){for(var n=this,e=0;e<n.bannerCount;e++){var t=$("<li></li>");n.pageControl.append(t),0===e&&t.addClass("active")}n.pageControl.css({width:16+12*n.bannerCount+16*(n.bannerCount-1)})},Banner.prototype.toggleArrow=function(n){n?(this.leftArrow.show(),this.rightArrow.show()):(this.leftArrow.hide(),this.rightArrow.hide())},Banner.prototype.listenBannerHover=function(){var n=this;this.bannerGroup.hover(function(){clearInterval(n.timer),n.toggleArrow(!0)},function(){n.loop(),n.toggleArrow(!1)})},Banner.prototype.loop=function(){var n=this;$("#banner-ul");this.timer=setInterval(function(){n.index>=n.bannerCount+1?(n.bannerUl.css({left:-n.bannerWidth}),n.index=2):n.index++,n.animate()},2e3)},Banner.prototype.listenArrowClick=function(){var n=this;n.leftArrow.click(function(){0===n.index?(n.bannerUl.css({left:-n.bannerWidth*n.bannerCount}),n.index=n.bannerCount-1):n.index--,n.animate()}),n.rightArrow.click(function(){n.index===n.bannerCount+1?(n.bannerUl.css({left:-n.bannerWidth}),n.index=2):n.index++,n.animate()})},Banner.prototype.animate=function(){var n=this;n.bannerUl.animate({left:-798*n.index},500);var e=n.index;e=0===e?n.bannerCount-1:e===n.bannerCount+1?0:n.index-1,n.pageControl.children("li").eq(e).addClass("active"),n.pageControl.children("li").eq(e).siblings().removeClass("active")},Banner.prototype.listenPageControl=function(){var t=this;t.pageControl.children("li").each(function(n,e){$(e).click(function(){t.index=n+1,t.animate()})})},Banner.prototype.run=function(){console.log("running..."),this.initBanner(),this.initPageControl(),this.loop(),this.listenArrowClick(),this.listenPageControl(),this.listenBannerHover()},Index.prototype.listenLoadMoreEvent=function(){var r=this,i=$("#load-more-btn");i.click(function(){xfzajax.get({url:"/news/list",data:{p:r.page},success:function(n){if(200===n.code){var e=n.data;if(0<e.length){var t=template("news-item",{newses:e});$(".list-inner-group").append(t),r.page+=1}else i.hide()}}})})},Index.prototype.run=function(){this.listenLoadMoreEvent()},$(function(){(new Banner).run(),(new Index).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIkJhbm5lciIsInRoaXMiLCJiYW5uZXJXaWR0aCIsImJhbm5lckdyb3VwIiwiJCIsImluZGV4IiwibGVmdEFycm93IiwicmlnaHRBcnJvdyIsImJhbm5lclVsIiwibGlMaXN0IiwiY2hpbGRyZW4iLCJiYW5uZXJDb3VudCIsImxlbmd0aCIsInBhZ2VDb250cm9sIiwiSW5kZXgiLCJwYWdlIiwidGVtcGxhdGUiLCJkZWZhdWx0cyIsImltcG9ydHMiLCJ0aW1lU2luY2UiLCJkYXRlVmFsdWUiLCJkYXRlIiwiRGF0ZSIsImRhdGV0cyIsImdldFRpbWUiLCJ0aW1lc3RhbXAiLCJtaW51dGVzIiwicGFyc2VJbnQiLCJob3VycyIsImRheXMiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF5IiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwicHJvdG90eXBlIiwiaW5pdEJhbm5lciIsInNlbGYiLCJjc3MiLCJ3aWR0aCIsImxlZnQiLCJmaXJzdEJhbm5lciIsImVxIiwiY2xvbmUiLCJsYXN0QmFubmVyIiwiYXBwZW5kIiwicHJlcGVuZCIsImluaXRQYWdlQ29udHJvbCIsImkiLCJjaXJjbGUiLCJhZGRDbGFzcyIsInRvZ2dsZUFycm93IiwiaXNTaG93Iiwic2hvdyIsImhpZGUiLCJsaXN0ZW5CYW5uZXJIb3ZlciIsImhvdmVyIiwiY2xlYXJJbnRlcnZhbCIsInRpbWVyIiwibG9vcCIsInNldEludGVydmFsIiwiYW5pbWF0ZSIsImxpc3RlbkFycm93Q2xpY2siLCJjbGljayIsInNpYmxpbmdzIiwicmVtb3ZlQ2xhc3MiLCJsaXN0ZW5QYWdlQ29udHJvbCIsImVhY2giLCJvYmoiLCJydW4iLCJjb25zb2xlIiwibG9nIiwibGlzdGVuTG9hZE1vcmVFdmVudCIsImxvYWRCdG4iLCJ4ZnphamF4IiwiZ2V0IiwidXJsIiwiZGF0YSIsInAiLCJzdWNjZXNzIiwicmVzdWx0IiwibmV3c2VzIiwidHBsIl0sIm1hcHBpbmdzIjoiQUFx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QUFVcUMsb0JBQXNCLFdBQ2xDLElBQUluQyxFQUFPcEMsS0FDUHdFLEVBQVVyRSxFQUFFLGtCQUNoQnFFLEVBQVFWLE1BQU0sV0FDVlcsUUFBUUMsSUFBSSxDQUNSQyxJQUFNLGFBQ05DLEtBQU8sQ0FDSEMsRUFBSXpDLEVBQUt0QixNQUViZ0UsUUFBVSxTQUFVQyxHQUNoQixHQUFvQixNQUFqQkEsRUFBYSxLQUFRLENBQ3BCLElBQUlDLEVBQVNELEVBQWEsS0FDMUIsR0FBbUIsRUFBaEJDLEVBQU9yRSxPQUFXLENBQ2pCLElBQUlzRSxFQUFNbEUsU0FBUyxZQUFZLENBQUNpRSxPQUFTQSxJQUNoQzdFLEVBQUUscUJBQ1J5QyxPQUFPcUMsR0FDVjdDLEVBQUt0QixNQUFPLE9BRVowRCxFQUFRbkIsY0FZaEN4QyxNQUFNcUIsVUFBVWtDLElBQU0sV0FDUHBFLEtBQ051RSx1QkFPVHBFLEVBQUUsWUFDZSxJQUFJSixRQUNWcUUsT0FDSyxJQUFJdkQsT0FDVnVEIiwiZmlsZSI6ImluZGV4Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8v6Z2i5ZCR5a+56LGhXG4vLzEu6YCa6L+HdGhpc+WFs+mUruWtl+e7keWumuWxnuaApyzlubbkuJTmjIflrprlroPnmoTlgLxcbi8v5Y6f5Z6L6ZO+XG4vL+a3u+WKoOaWueazlVxuLy/lnKhCYW5uZXIucHJvdG90eXBl5LiK57uR5a6a5pa55rOV5Y2z5Y+vXG4vLyBmdW5jdGlvbiBCYW5uZXIoKSB7XG4vLyAgICAgLy/ov5nph4znmoTku6PnoIHnm7jlvZPkuo5weXRob27kuK3nmoRfX2luaW5fX+aWueazleeahOS7o+eggVxuLy8gICAgIGNvbnNvbGUubG9nKCfmnoTpgKDlh73mlbAnKTtcbi8vICAgICB0aGlzLnBlcnNvbiA9ICd6aGlsaWFvJy8vdGhpc+S7o+ihqOW9k+WJjeeahEJhbm5lcuWvueixoVxuLy9cbi8vIH1cbi8vIC8v5Y6f5Z6L6ZO+XG4vLyBCYW5uZXIucHJvdG90eXBlLmdyZWV0ID0gZnVuY3Rpb24gKHdvcmQpIHtcbi8vICAgICBjb25zb2xlLmxvZygnaGVsbG8nLHdvcmQpO1xuLy9cbi8vIH1cbi8vXG4vLyB2YXIgYmFubmVyID0gbmV3IEJhbm5lcigpO1xuLy8gY29uc29sZS5sb2coYmFubmVyLnBlcnNvbik7XG4vLyBiYW5uZXIuZ3JlZXQoJ3poaWxpYW8nKTtcblxuZnVuY3Rpb24gQmFubmVyKCkge1xuICAgIC8v5p6E6YCg5Ye95pWwXG4gICAgLy/mj5Dlj5ZiYW5uZXItZ3JvdXBcbiAgICB0aGlzLmJhbm5lcldpZHRoID0gNzk4O1xuICAgIHRoaXMuYmFubmVyR3JvdXAgPSAkKFwiI2Jhbm5lci1ncm91cFwiKTtcbiAgICB0aGlzLmluZGV4ID0gMDtcbiAgICAvL+aPkOmrmOaAp+iDve+8jOmAmui/h+WxnuaAp+adpeiwg+eUqO+8jOWboOS4uuW3sue7j+WumuS5ieWcqOaehOmAoOWHveaVsOS4rVxuICAgIHRoaXMubGVmdEFycm93ID0gJCgnLmxlZnQtYXJyb3cnKVxuICAgIHRoaXMucmlnaHRBcnJvdyA9ICQoJy5yaWdodC1hcnJvdycpO1xuICAgIHRoaXMuYmFubmVyVWwgPSAkKFwiI2Jhbm5lci11bFwiKTsvL+iOt+WPlnVs5qCH562+XG4gICAgdGhpcy5saUxpc3QgID0gdGhpcy5iYW5uZXJVbC5jaGlsZHJlbihcImxpXCIpO1xuICAgIHRoaXMuYmFubmVyQ291bnQgPSB0aGlzLmxpTGlzdC5sZW5ndGg7XG4gICAgdGhpcy5wYWdlQ29udHJvbCA9ICQoJy5wYWdlLWNvbnRyb2wnKTtcblxufVxuLy/lrprkuYliYW5uZXJVbOeahOmVv+W6plxuQmFubmVyLnByb3RvdHlwZS5pbml0QmFubmVyID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZiA9IHRoaXNcbiAgICB0aGlzLmJhbm5lclVsLmNzcyh7d2lkdGg6c2VsZi5iYW5uZXJXaWR0aCooc2VsZi5iYW5uZXJDb3VudCsyKSwnbGVmdCc6LXNlbGYuYmFubmVyV2lkdGh9KS8v6K6+572u5a695bqmLOmAmui/h2Nzc+adpeiuvue9ruagt+W8j1xuXG4gICAgLy/nrKzkuIDlvKDova7mkq3lm74s6I635Y+W56ysMOS4qmxp5qCH562+LOWvueesrOS4gOS4qmxp5qCH562+6L+b6KGM5aSN5Yi2XG4gICAgdmFyIGZpcnN0QmFubmVyID0gc2VsZi5saUxpc3QuZXEoMCkuY2xvbmUoKTtcbiAgICB2YXIgbGFzdEJhbm5lciA9IHNlbGYubGlMaXN0LmVxKHNlbGYuYmFubmVyQ291bnQtMSkuY2xvbmUoKTtcbiAgICAvL+WwhuesrOS4gOW8oOi9ruaSreWbvua3u+WKoOWIsOacgOWQjumdolxuICAgIHNlbGYuYmFubmVyVWwuYXBwZW5kKGZpcnN0QmFubmVyKTtcbiAgICAvL3ByZXBlbmQg5bCG5YWD57Sg5re75Yqg5Yiw56ys5LiA5LiqXG4gICAgc2VsZi5iYW5uZXJVbC5wcmVwZW5kKGxhc3RCYW5uZXIpO1xuXG5cblxuXG59XG5cblxuXG5cblxuLy/lpITnkIblsI/ngrnngrlcbkJhbm5lci5wcm90b3R5cGUuaW5pdFBhZ2VDb250cm9sID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgZm9yKHZhciBpPTA7IGkgPHNlbGYuYmFubmVyQ291bnQ7IGkrKyl7XG4gICAgICAgIHZhciBjaXJjbGUgPSAkKFwiPGxpPjwvbGk+XCIpO1xuICAgICAgICBzZWxmLnBhZ2VDb250cm9sLmFwcGVuZChjaXJjbGUpXG4gICAgICAgIGlmKGkgPT09IDApe1xuICAgICAgICAgICAgY2lyY2xlLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VsZi5wYWdlQ29udHJvbC5jc3Moe1wid2lkdGhcIjo4KjIrMTIqc2VsZi5iYW5uZXJDb3VudCsxNiooc2VsZi5iYW5uZXJDb3VudC0xKX0pXG59XG5cblxuXG5cbi8v5pi+56S65ZKM6ZqQ6JePYXJyb3dcbkJhbm5lci5wcm90b3R5cGUudG9nZ2xlQXJyb3cgPSBmdW5jdGlvbihpc1Nob3cpe1xuICAgIC8v6YCa6L+H5Y+C5pWw5p2l5o6n5Yi2XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGlmKGlzU2hvdyl7XG4gICAgICAgIHRoaXMubGVmdEFycm93LnNob3coKTtcbiAgICAgICAgdGhpcy5yaWdodEFycm93LnNob3coKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMubGVmdEFycm93LmhpZGUoKTtcbiAgICAgICAgdGhpcy5yaWdodEFycm93LmhpZGUoKTtcbiAgICB9XG5cblxufVxuXG5cbi8v55uR5ZCsYmFubmVy5piv5ZCm6KKr6KaG55uWXG5CYW5uZXIucHJvdG90eXBlLmxpc3RlbkJhbm5lckhvdmVyICA9IGZ1bmN0aW9uKCl7XG4gICAgLy/pgJrov4d0aGlz5a+56LGh6I635Y+WQmFubmVy5a+56LGh55qE5bGe5oCnXG4gICAgdmFyIHNlbGYgPSB0aGlzOy8v5bCGdGhpc+mAmui/h+WPpuWkluS4gOS4quWvueixoeW8leeUqFxuICAgIHRoaXMuYmFubmVyR3JvdXAuaG92ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAvL+esrOS4gOS4quWHveaVsOaYr+aKium8oOagh+enu+WKqOWIsGJhbm5lcuS4iuS8muaJp+ihjOeahOWHveaVsFxuICAgICAgICAgICAgLy90aGlz5Zyo5q+P5Liq5Ye95pWw5Lit5Luj6KGo5b2T5YmN55qE5a+56LGhXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHNlbGYudGltZXIpOy8v5riF6Zmk5a6a5pe25ZmoXG4gICAgICAgICAgICBzZWxmLnRvZ2dsZUFycm93KHRydWUpOy8v6LCD55So6ZqQ6JeP55qE5pa55rOVdG9nZ2xlXG4gICAgfSxmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8v56ys5LqM5Liq5Ye95pWw5piv5oqK6byg5qCH5LuOYmFubmVy5LiK56e76LWw5Lya5omn6KGM55qE5Ye95pWwXG4gICAgICAgIHNlbGYubG9vcCgpO1xuICAgICAgICBzZWxmLnRvZ2dsZUFycm93KGZhbHNlKTtcbiAgICB9XG4gICAgICAgIClcbn1cbi8v5bCGcnVu5pa55rOV5b2T5YGaQmFubmVy55qE5Li75YWl5Y+jIO+8jOS4jeaKiuaJgOacieeahOmAu+i+keaUvuWIsHJ1bumHjOmdolxuLy/miornm7jlupTnmoTpgLvovpHmlL7lnKjljZXni6znmoTlh73mlbDkuK3lpITnkIbvvIxydW7lh73mlbDkuK3lj6rov5vooYzmraXpqqTnmoTmi7zmjqVcbi8vYmFubmVy5b6q546vXG5CYW5uZXIucHJvdG90eXBlLmxvb3AgPSBmdW5jdGlvbigpe1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgYmFubmVyVWwgPSAkKFwiI2Jhbm5lci11bFwiKTtcbiAgICAgLy8gYmFubmVyVWwuY3NzKHtcImxlZnRcIjotNzk4fSk7XG4gICAgLy90aGlz5Luj6KGoYmFubmVy5a+56LGh5LiK55qE5LiA5Liq5bGe5oCn77yM5YW25LuW5Zyw5pa55bCx5Y+v5Lul6YCa6L+H5a+56LGh5p2l5L2/55SoXG4gICAgdGhpcy50aW1lciA9ICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmKHNlbGYuaW5kZXg+PXNlbGYuYmFubmVyQ291bnQrMSl7XG4gICAgICAgICAgICBzZWxmLmJhbm5lclVsLmNzcyh7XCJsZWZ0XCI6LXNlbGYuYmFubmVyV2lkdGh9KVxuICAgICAgICAgICAgc2VsZi5pbmRleD0yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2VsZi5pbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuYW5pbWF0ZSgpO1xuICAgIH0sMjAwMCk7Ly/lrprml7blmajvvIzkuKTnp5Lpkp/miafooYzkuIDmrKHov5nkuKrku6PnoIFcblxufVxuXG4vL+WumuS5ieebkeWQrOeureWktFxuQmFubmVyLnByb3RvdHlwZS5saXN0ZW5BcnJvd0NsaWNrID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBzZWxmLmxlZnRBcnJvdy5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmKHNlbGYuaW5kZXggPT09IDApe1xuICAgICAgICAgICAgLy/ml6DpmZDlvqrnjq9cbiAgICAgICAgICAgIHNlbGYuYmFubmVyVWwuY3NzKHtcImxlZnRcIjotc2VsZi5iYW5uZXJXaWR0aCpzZWxmLmJhbm5lckNvdW50fSlcbiAgICAgICAgICAgIHNlbGYuaW5kZXggPSBzZWxmLmJhbm5lckNvdW50IC0xO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2VsZi5pbmRleC0tO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuYW5pbWF0ZSgpO1xuICAgIH0pO1xuICAgIHNlbGYucmlnaHRBcnJvdy5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmKHNlbGYuaW5kZXggPT09IHNlbGYuYmFubmVyQ291bnQgKzEpe1xuICAgICAgICAgICAgLy/ml6DpmZDlvqrnjq9cbiAgICAgICAgICAgIHNlbGYuYmFubmVyVWwuY3NzKHtcImxlZnRcIjotc2VsZi5iYW5uZXJXaWR0aH0pO1xuICAgICAgICAgICAgc2VsZi5pbmRleCA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZWxmLmluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5hbmltYXRlKCk7XG5cbiAgICB9KVxufVxuXG4vL1xuQmFubmVyLnByb3RvdHlwZS5hbmltYXRlID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5iYW5uZXJVbC5hbmltYXRlKHtcImxlZnRcIjotNzk4KnNlbGYuaW5kZXh9LDUwMCk7XG4gICAgLy/lpITnkIbml6DpmZDlvqrnjq/ova7mkq3lm77nmoTlsI/ngrnngrlcbiAgICB2YXIgaW5kZXggPSBzZWxmLmluZGV4O1xuICAgIGlmKGluZGV4PT09MCl7XG4gICAgICAgIGluZGV4ID1zZWxmLmJhbm5lckNvdW50LTE7XG4gICAgfWVsc2UgaWYoaW5kZXggPT09IHNlbGYuYmFubmVyQ291bnQrMSl7XG4gICAgICAgIGluZGV4ID0gMCAgO1xuICAgIH1lbHNlIHtcbiAgICAgICAgaW5kZXggPSBzZWxmLmluZGV4IC0xIDtcbiAgICB9XG4gICAgO1xuXG4gICAgLy9lceS7o+ihqOiOt+WPlmxp5qCH562+5Lit55qE56ys5Yeg5LiqXG4gICAgc2VsZi5wYWdlQ29udHJvbC5jaGlsZHJlbihcImxpXCIpLmVxKGluZGV4KS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgc2VsZi5wYWdlQ29udHJvbC5jaGlsZHJlbihcImxpXCIpLmVxKGluZGV4KS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbn07XG5cblxuXG5cbi8v55uR5ZCs5bCP54K554K5XG5CYW5uZXIucHJvdG90eXBlLmxpc3RlblBhZ2VDb250cm9sID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZiA9dGhpcztcbiAgICBzZWxmLnBhZ2VDb250cm9sLmNoaWxkcmVuKFwibGlcIikuZWFjaChmdW5jdGlvbiAoaW5kZXgsb2JqKSB7XG4gICAgICAgICQob2JqKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgIHNlbGYuaW5kZXggPSBpbmRleCArIDE7XG4gICAgICAgICAgIHNlbGYuYW5pbWF0ZSgpXG5cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbn07XG5cblxuXG5cblxuQmFubmVyLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc29sZS5sb2coJ3J1bm5pbmcuLi4nKTtcbiAgICB0aGlzLmluaXRCYW5uZXIoKTtcbiAgICB0aGlzLmluaXRQYWdlQ29udHJvbCgpO1xuICAgIHRoaXMubG9vcCgpO1xuICAgIHRoaXMubGlzdGVuQXJyb3dDbGljaygpO1xuICAgIHRoaXMubGlzdGVuUGFnZUNvbnRyb2woKTtcbiAgICB0aGlzLmxpc3RlbkJhbm5lckhvdmVyKCk7XG5cbn07XG5cblxuZnVuY3Rpb24gSW5kZXgoKXtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5wYWdlID0gMjtcbiAgICB0ZW1wbGF0ZS5kZWZhdWx0cy5pbXBvcnRzLnRpbWVTaW5jZSA9IGZ1bmN0aW9uIChkYXRlVmFsdWUpIHtcbiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShkYXRlVmFsdWUpO1xuICAgICAgICB2YXIgZGF0ZXRzID0gZGF0ZS5nZXRUaW1lKCk7Ly/lvpfliLDnmoTmmK/mr6vnp5LnmoTml7bpl7RcbiAgICAgICAgdmFyIG5vd3RzID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTsvL+W+l+WIsOeahOaYr+W9k+WJjeaXtumXtOeahOaXtumXtOaIs1xuICAgICAgICB2YXIgdGltZXN0YW1wID0gKG5vd3RzIC0gZGF0ZXRzKS8xMDAwOy8v6Zmk5LulMTAwMO+8jOW+l+WIsOenkuaVsFxuICAgIGlmICh0aW1lc3RhbXAgPCA2MCl7XG4gICAgICAgIHJldHVybiAn5Yia5YiaJ1xuICAgIH1cbiAgICBlbHNlIGlmKHRpbWVzdGFtcCA+PSA2MCAmJiB0aW1lc3RhbXAgPCA2MCo2MCl7XG4gICAgICAgIG1pbnV0ZXMgPSBwYXJzZUludCh0aW1lc3RhbXAvNjApXG4gICAgICAgIHJldHVybiBtaW51dGVzKyfliIbpkp/liY0nO1xuICAgICAgICB9XG4gICAgZWxzZSBpZih0aW1lc3RhbXAgPj0gNjAqNjAgJiYgdGltZXN0YW1wIDwgNjAqNjAqMjQpIHtcbiAgICAgICAgaG91cnMgPSBwYXJzZUludCh0aW1lc3RhbXAvNjAvNjApXG4gICAgICAgIHJldHVybiBob3Vycysn5bCP5pe25YmNJ1xuICAgIH1cbiAgICBlbHNlIGlmKHRpbWVzdGFtcCA+PSA2MCo2MCoyNCAmJiB0aW1lc3RhbXAgPCA2MCo2MCoyNCozMCl7XG4gICAgICAgIGRheXMgPSBwYXJzZUludCh0aW1lc3RhbXAvNjAvNjAvMjQpXG4gICAgICAgIHJldHVybiBkYXlzKyflpKnliY0nXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgdmFyIG1vbnRoID0gZGF0ZS5nZXRNb250aCgpO1xuICAgICAgICB2YXIgZGF5ID0gZGF0ZS5nZXREYXkoKTtcbiAgICAgICAgdmFyIGhvdXIgPSBkYXRlLmdldEhvdXJzKCk7XG4gICAgICAgIHZhciBtaW51dGUgPSBkYXRlLmdldE1pbnV0ZXMoKTtcbiAgICAgICAgcmV0dXJuIHllYXIrJy8nK21vbnRoKycvJytkYXkrJy8nK1wiIFwiK2hvdXIrXCI6XCIrbWludXRlO1xuICAgIH1cbiAgICB9XG59XG5cbkluZGV4LnByb3RvdHlwZS5saXN0ZW5Mb2FkTW9yZUV2ZW50ID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGxvYWRCdG4gPSAkKCcjbG9hZC1tb3JlLWJ0bicpO1xuICAgIGxvYWRCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICB4ZnphamF4LmdldCh7XG4gICAgICAgICAgICAndXJsJzonL25ld3MvbGlzdCcsXG4gICAgICAgICAgICAnZGF0YSc6e1xuICAgICAgICAgICAgICAgICdwJzpzZWxmLnBhZ2UsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOmZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXT09PTIwMCl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdzZXMgPSByZXN1bHRbJ2RhdGEnXTtcbiAgICAgICAgICAgICAgICAgICAgaWYobmV3c2VzLmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRwbCA9IHRlbXBsYXRlKFwibmV3cy1pdGVtXCIse1wibmV3c2VzXCI6bmV3c2VzfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdWwgPSAkKCcubGlzdC1pbm5lci1ncm91cCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdWwuYXBwZW5kKHRwbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBhZ2UgKz0xO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkQnRuLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH0pO1xuXG5cbn1cblxuXG5JbmRleC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5saXN0ZW5Mb2FkTW9yZUV2ZW50KCk7XG5cblxufVxuXG5cbi8vJOWHveaVsOmdnuW4uOW8uuWkp++8jOWmguaenOWcqOi/meS4quWHveaVsOS4reWumuS5ieS6huWPpuWkluS4gOS4quWHveaVsO+8jOS4gOWumuS8muWcqOaVtOS4quaWh+aho+WFg+e0oOWFqOmDqOWKoOi9veWQjuaJjeS8muaJp+ihjOi/memHjOmdoueahOS7o+eggVxuJChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGJhbm5lciA9IG5ldyBCYW5uZXIoKTtcbiAgICBiYW5uZXIucnVuKCk7XG4gICAgdmFyIGluZGV4ID0gbmV3IEluZGV4KCk7XG4gICAgaW5kZXgucnVuKCk7XG5cbn0pOyJdfQ==
